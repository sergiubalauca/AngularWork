<div class="container">
    <button (click)="addToDo()" class="add-todo-button" mat-raised-button color="primary">
        Add ToDo
    </button>

    <mat-spinner *ngIf="loading"></mat-spinner>

    <ng-container *ngIf="!loading && todos.length > 0; then showToDos; else noToDos"></ng-container>
    <ng-template #showToDos>
        <mat-card *ngFor="let todo of todos">
            <p [ngClass]="{complete:todo.status === 'completed'}">Title: {{todo.title}}</p>
            <p>Description: {{todo.description}}</p>

            <button class="mark-completed-button" *ngIf="todo.status === 'open'" mat-stroked-button
                (click)="completeToDo(todo.toDoID)">
                Mark as complete
            </button>

            <button class="mark-completed-button" *ngIf="todo.status === 'completed'" mat-stroked-button
                (click)="deleteToDo(todo.toDoID)">
                Delete
            </button>

        </mat-card>
    </ng-template>
    <ng-template #noToDos>
        <mat-card>
            <p>No Todos</p>
        </mat-card>
    </ng-template>

</div>